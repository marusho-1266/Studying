SYNパケットは、TCP（Transmission Control Protocol）において、**通信を開始する際にクライアントからサーバーに送信される最初のパケット**です。

より正確に言えば、TCPヘッダ内の**「SYNフラグ」が1にセットされたパケット**のことを指します。

### SYNパケットの役割：TCPの「3ウェイハンドシェイク」

TCPは、データを確実に届けるために、データ送受信の前に「コネクション（接続）」を確立します。このコネクション確立のプロセスは、「**3ウェイハンドシェイク（Three-Way Handshake）**」と呼ばれ、3回のパケットのやり取りで行われます。SYNパケットは、この3ウェイハンドシェイクの最初のステップで登場します。

**3ウェイハンドシェイクのステップ**

1. **SYN (Synchronize)**：
    
    - **クライアント → サーバー**: クライアントはサーバーに対して「通信を開始したい」という意思を伝えるために、**SYNパケット**を送信します。
        
    - このパケットには、クライアントが通信を開始する際の**初期シーケンス番号**（データを送る際の開始位置を示す番号）が含まれています。これは、その後のデータ送受信の順序を管理するための重要な情報です。
        
2. **SYN-ACK (Synchronize-Acknowledge)**：
    
    - **サーバー → クライアント**: SYNパケットを受け取ったサーバーは、クライアントからの接続要求を受け入れたことを示すために、**SYN-ACKパケット**を返します。
        
    - このパケットには、サーバーが通信を開始する際の**初期シーケンス番号**と、クライアントから受け取ったSYNパケットの**確認応答（ACK）**が含まれています。ACKは「SYNパケットを受け取りましたよ」という返事です。
        
3. **ACK (Acknowledge)**：
    
    - **クライアント → サーバー**: SYN-ACKパケットを受け取ったクライアントは、サーバーからの応答を確認したことを示すために、**ACKパケット**を返します。
        
    - このパケットには、サーバーから受け取ったSYN-ACKパケットの**確認応答（ACK）**が含まれています。
        

この3回のやり取りが成功すると、クライアントとサーバーの間で信頼性の高いTCPコネクションが確立され、データの送受信が可能になります。

### SYNパケットの重要性

SYNパケットは、TCP通信の開始点となる非常に重要なパケットです。

- **接続の開始**: クライアントがサーバーと通信したいという最初の合図です。
    
- **初期シーケンス番号の交換**: その後のデータ転送でデータの欠落や重複を防ぎ、正しい順序でデータを再構築するために必要な初期シーケンス番号を交換します。
    
- **通信の信頼性確保**: 3ウェイハンドシェイクによって、双方の通信能力を確認し、双方向でデータを送受信できる状態を確立します。
    

### SYNパケットに関連するセキュリティ上の問題

SYNパケットは、悪意のある攻撃にも利用されることがあります。

- **SYNフラッド攻撃（SYN Flood Attack）**:
    
    - 攻撃者は、大量のSYNパケットをサーバーに送りつけます。
        
    - サーバーは、それぞれのSYNパケットに対してSYN-ACKパケットを返し、ACKパケットが返ってくるのを待つ「半開接続」の状態を維持するためにリソースを確保します。
        
    - しかし、攻撃者はACKパケットを返さないため、サーバーは大量の半開接続を抱えることになり、正当なユーザーからの接続要求を受け付けられなくなります。これにより、サービス拒否（DoS）状態に陥ります。
        

ダイナミックパケットフィルタリングは、このようなSYNフラッド攻撃のような不正な通信パターンを検知し、ブロックする役割も果たします。つまり、正常な3ウェイハンドシェイクが完了しない半開接続の状態が一定時間続いたり、異常に大量のSYNパケットが送られてきたりするのを監視し、問題があればその通信を遮断するのです。